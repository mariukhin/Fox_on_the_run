<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Audio</title>
</head>
<body id="body">
<!--
<audio src ="Eddy Grant - Electric Avenue.mp3" controls = ""></audio>//можно регулировать музыку
-->
<!--<audio src ="Eddy Grant - Electric Avenue.mp3" autoplay = ""></audio>//автозапуск-->
<audio src ="Eddy Grant - Electric Avenue.mp3" id = "audio"></audio>
<script type="text/javascript">

    function loadAudio(arr, vol) {

        var audio = document.createElement('audio');
        for (var i = 0, len = arr.length; i<len;i+=1){
            var source = document.createElement('source');
            source.src = arr[i];
            audio.appendChild(source);
        }
        audio.volume = 1 || vol;

        var o = {
            dom : false,
            state : 'stop',

            play : function () {
                this.dom.currentTime = 0;
                this.dom.play();
                this.state = 'play';
            },
            pause : function () {
                this.dom.pause();
                this.state = 'pause';
            },
            stop : function () {
                this.dom.pause();
                this.dom.currentTime = 0;
                this.state = 'stop';
            },
            setVolume : function (vol) {
                this.dom.volume = vol;
            }
        };
        o.dom = audio;
        return o;
    }
    var x1 = loadAudio(['Eddy Grant - Electric Avenue.mp3']);
    var x2 = loadAudio(['Sweet - Fox On The Run.mp3'],0.4);
    var a;
    x1.setVolume(0.9);
    x2.play();
    setInterval(function () {
        if(a == 32){
            x1.play();
        }
        if(a == 27){
            x2.stop();
            x1.stop();
        }
        a = 0;
    },20);

    var body = document.getElementById('body');
    
    body.onkeyup = function (e){
        a = e.keyCode;

    };
    /*var a = document.getElementById('audio');
    a.play();
    setTimeout(function () {
        a.pause(); a.currentTime = 0;
    },2000);*/


</script>


</body>
</html>